{"ast":null,"code":"import io from 'socket.io-client';\nconst PORT_WS = 4001;\nlet client = null; // Make sure to always keep the callback as the last argument\n\nclass Client {\n  constructor(url) {\n    this.socket = io(url);\n\n    this.isConnected = () => this.socket.connected;\n\n    this.onConnect = cb => this.socket.on('connect', cb);\n\n    this.onReconnect = cb => this.socket.on('reconnect', cb);\n\n    this.onConnectError = cb => this.socket.on('connect_error', cb);\n\n    this.disconnect = () => this.socket.disconnect();\n\n    this.onError = cb => this.socket.on('error', cb);\n\n    this.getCurrentSlide = cb => this.socket.emit('get-current-slide', cb);\n\n    this.setCurrentSlide = (index, cb) => this.socket.emit('set-current-slide', index, cb);\n\n    this.login = (password, cb) => this.socket.emit('login', password, cb);\n\n    this.onSlideIndex = cb => this.socket.on('slide-index', cb);\n  }\n\n}\n\nexport const getClient = () => {\n  if (!client) {\n    client = new Client(`${window.location.hostname}:${PORT_WS}`);\n  }\n\n  return client;\n};\nexport default getClient();","map":{"version":3,"sources":["/home/toufiq/go/src/github.com/play-around/presenter/src/client.js"],"names":["io","PORT_WS","client","Client","constructor","url","socket","isConnected","connected","onConnect","cb","on","onReconnect","onConnectError","disconnect","onError","getCurrentSlide","emit","setCurrentSlide","index","login","password","onSlideIndex","getClient","window","location","hostname"],"mappings":"AAAA,OAAOA,EAAP,MAAe,kBAAf;AAEA,MAAMC,OAAO,GAAG,IAAhB;AACA,IAAIC,MAAM,GAAG,IAAb,C,CAEA;;AACA,MAAMC,MAAN,CAAa;AACTC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACb,SAAKC,MAAL,GAAcN,EAAE,CAACK,GAAD,CAAhB;;AAEA,SAAKE,WAAL,GAAmB,MAAM,KAAKD,MAAL,CAAYE,SAArC;;AACA,SAAKC,SAAL,GAAiBC,EAAE,IAAI,KAAKJ,MAAL,CAAYK,EAAZ,CAAe,SAAf,EAA0BD,EAA1B,CAAvB;;AACA,SAAKE,WAAL,GAAmBF,EAAE,IAAI,KAAKJ,MAAL,CAAYK,EAAZ,CAAe,WAAf,EAA4BD,EAA5B,CAAzB;;AACA,SAAKG,cAAL,GAAsBH,EAAE,IAAI,KAAKJ,MAAL,CAAYK,EAAZ,CAAe,eAAf,EAAgCD,EAAhC,CAA5B;;AACA,SAAKI,UAAL,GAAkB,MAAM,KAAKR,MAAL,CAAYQ,UAAZ,EAAxB;;AACA,SAAKC,OAAL,GAAeL,EAAE,IAAI,KAAKJ,MAAL,CAAYK,EAAZ,CAAe,OAAf,EAAwBD,EAAxB,CAArB;;AAEA,SAAKM,eAAL,GAAuBN,EAAE,IAAI,KAAKJ,MAAL,CAAYW,IAAZ,CAAiB,mBAAjB,EAAsCP,EAAtC,CAA7B;;AACA,SAAKQ,eAAL,GAAuB,CAACC,KAAD,EAAQT,EAAR,KAAe,KAAKJ,MAAL,CAAYW,IAAZ,CAAiB,mBAAjB,EAAsCE,KAAtC,EAA6CT,EAA7C,CAAtC;;AACA,SAAKU,KAAL,GAAa,CAACC,QAAD,EAAWX,EAAX,KAAkB,KAAKJ,MAAL,CAAYW,IAAZ,CAAiB,OAAjB,EAA0BI,QAA1B,EAAoCX,EAApC,CAA/B;;AACA,SAAKY,YAAL,GAAoBZ,EAAE,IAAI,KAAKJ,MAAL,CAAYK,EAAZ,CAAe,aAAf,EAA8BD,EAA9B,CAA1B;AACH;;AAfQ;;AAkBb,OAAO,MAAMa,SAAS,GAAG,MAAM;AAC3B,MAAI,CAACrB,MAAL,EAAa;AACTA,IAAAA,MAAM,GAAG,IAAIC,MAAJ,CAAY,GAAEqB,MAAM,CAACC,QAAP,CAAgBC,QAAS,IAAGzB,OAAQ,EAAlD,CAAT;AACH;;AACD,SAAOC,MAAP;AACH,CALM;AAMP,eAAeqB,SAAS,EAAxB","sourcesContent":["import io from 'socket.io-client'\n\nconst PORT_WS = 4001\nlet client = null\n\n// Make sure to always keep the callback as the last argument\nclass Client {\n    constructor(url) {\n        this.socket = io(url)\n\n        this.isConnected = () => this.socket.connected\n        this.onConnect = cb => this.socket.on('connect', cb)\n        this.onReconnect = cb => this.socket.on('reconnect', cb)\n        this.onConnectError = cb => this.socket.on('connect_error', cb);\n        this.disconnect = () => this.socket.disconnect()\n        this.onError = cb => this.socket.on('error', cb)\n\n        this.getCurrentSlide = cb => this.socket.emit('get-current-slide', cb)\n        this.setCurrentSlide = (index, cb) => this.socket.emit('set-current-slide', index, cb)\n        this.login = (password, cb) => this.socket.emit('login', password, cb)\n        this.onSlideIndex = cb => this.socket.on('slide-index', cb)\n    }\n\n}\nexport const getClient = () => {\n    if (!client) {\n        client = new Client(`${window.location.hostname}:${PORT_WS}`)\n    }\n    return client\n}\nexport default getClient()"]},"metadata":{},"sourceType":"module"}