{"ast":null,"code":"import _slicedToArray from\"/home/toufiq/go/src/github.com/play-around/presenter/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import client from'./client';import'./App.css';var DO_PRESENT=getUrlParam('present').toLowerCase()==='yes';export default function App(){var _useState=useState(localStorage.getItem(password)),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),slideIndex=_useState4[0],setSlideIndex=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),slides=_useState6[0],setSlides=_useState6[1];// slide names\nvar _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),isPresenter=_useState8[0],setIsPresenter=_useState8[1];// not logged in yet\nuseEffect(function(){client.onSlideIndex(function(index){return setSlideIndex(index);});// if (isP)\n// document.onkeydown = \nreturn function(){};},[slideIndex]);if(DO_PRESENT&&isPresenter===null){var handleLogin=client.login(pass,function(success,slide){});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Please enter password to login\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleLogin},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",onChange:console.log})));}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:\"./slides/\".concat(slideIndex,\".png\"),style:{width:'100%'},alt:''}));}// getUrlParam reads the URL parameters\n//\n// Params:\n// @name    string: (optional) if supplied will return a specific paramenter as string.\n//                  Otherwise, will return an object containing all the URL parameters with respective values.\n//\n// returns  string/object\nexport var getUrlParam=function getUrlParam(name){var params={};var regex=/[?&]+([^=&]+)=([^&]*)/gi;window.location.href.replace(regex,function(_,key,value){return params[key]=value;});return name?params[name]||'':params;};var handleKeyPress=function handleKeyPress(e){// control slide on arrow key press and page up/down key press\ne=e||window.event;var index=slideIndex;switch(e.keyCode){case 35:// End key\n// go to last slide\nbreak;case 36:// Home key\nindex=0;// go to first slide\nbreak;case 38:// up arrow\ncase 37:// left arrow\nindex=slideIndex-1;// go to previous slide\nbreak;case 39:// right arrow\ncase 40:// down arrow\nindex=slideIndex+1;// go to next slide\nbreak;default:// console.log({ keyCode: e.keyCode })\nbreak;}if(index<0||index>=slides.length)return;// setSlideNo(index)\n// client.setCurrentSlide(index, () => )\n};","map":{"version":3,"sources":["/home/toufiq/go/src/github.com/play-around/presenter/src/App.js"],"names":["React","useState","useEffect","client","DO_PRESENT","getUrlParam","toLowerCase","App","localStorage","getItem","password","setPassword","slideIndex","setSlideIndex","slides","setSlides","isPresenter","setIsPresenter","onSlideIndex","index","handleLogin","login","pass","success","slide","console","log","src","style","width","alt","name","params","regex","window","location","href","replace","_","key","value","handleKeyPress","e","event","keyCode","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport client from './client'\nimport './App.css'\n\nconst DO_PRESENT = getUrlParam('present').toLowerCase() === 'yes'\nexport default function App() {\n\tconst [password, setPassword] = useState(localStorage.getItem(password))\n\tconst [slideIndex, setSlideIndex] = useState(1)\n\tconst [slides, setSlides] = useState([]) // slide names\n\tconst [isPresenter, setIsPresenter] = useState(null) // not logged in yet\n\n\tuseEffect(() => {\n\t\tclient.onSlideIndex(index => setSlideIndex(index))\n\t\t// if (isP)\n\t\t// document.onkeydown = \n\n\t\treturn () => { }\n\t}, [slideIndex])\n\n\tif (DO_PRESENT && isPresenter === null) {\n\t\tconst handleLogin = client.login(pass, (success, slide) => { })\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h3>Please enter password to login</h3>\n\t\t\t\t<form onSubmit={handleLogin}>\n\t\t\t\t\t<input type='password' onChange={console.log} />\n\t\t\t\t</form>\n\n\t\t\t</div>\n\t\t)\n\t}\n\treturn (\n\t\t<div>\n\t\t\t<img {...{\n\t\t\t\tsrc: `./slides/${slideIndex}.png`,\n\t\t\t\tstyle: { width: '100%' },\n\t\t\t\talt: '',\n\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\n// getUrlParam reads the URL parameters\n//\n// Params:\n// @name    string: (optional) if supplied will return a specific paramenter as string.\n//                  Otherwise, will return an object containing all the URL parameters with respective values.\n//\n// returns  string/object\nexport const getUrlParam = name => {\n\tconst params = {}\n\tconst regex = /[?&]+([^=&]+)=([^&]*)/gi\n\twindow.location.href.replace(regex, (_, key, value) => params[key] = value)\n\treturn name ? params[name] || '' : params\n}\n\nconst handleKeyPress = e => {\n\t// control slide on arrow key press and page up/down key press\n\te = e || window.event;\n\tlet index = slideIndex\n\tswitch (e.keyCode) {\n\t\tcase 35: // End key\n\t\t\t// go to last slide\n\t\t\tbreak\n\t\tcase 36: // Home key\n\t\t\tindex = 0 // go to first slide\n\t\t\tbreak\n\t\tcase 38: // up arrow\n\t\tcase 37: // left arrow\n\t\t\tindex = slideIndex - 1 // go to previous slide\n\t\t\tbreak\n\t\tcase 39: // right arrow\n\t\tcase 40: // down arrow\n\t\t\tindex = slideIndex + 1 // go to next slide\n\t\t\tbreak\n\t\tdefault:\n\t\t\t// console.log({ keyCode: e.keyCode })\n\t\t\tbreak\n\t}\n\tif (index < 0 || index >= slides.length) return\n\t// setSlideNo(index)\n\t// client.setCurrentSlide(index, () => )\n}"]},"metadata":{},"sourceType":"module"}